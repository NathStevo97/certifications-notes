
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="04_Vault-Tokens.html">
      
      
        <link rel="next" href="06_Exam-Preparation.html">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.17">
    
    
      
        <title>5.0 - Vault Architecture - DevOps Learning and Research</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.7e37652d.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
   <link href="../../assets/stylesheets/glightbox.min.css" rel="stylesheet"/><style>
    html.glightbox-open { overflow: initial; height: 100%; }
    .gslide-title { margin-top: 0px; user-select: text; }
    .gslide-desc { color: #666; user-select: text; }
    .gslide-image img { background: white; }
    .gscrollbar-fixer { padding-right: 15px; }
    .gdesc-inner { font-size: 0.75rem; }
    body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color);}
    body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color);}
    body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color);}</style> <script src="../../assets/javascripts/glightbox.min.js"></script></head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#50-vault-architecture" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../index.html" title="DevOps Learning and Research" class="md-header__button md-logo" aria-label="DevOps Learning and Research" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            DevOps Learning and Research
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              5.0 - Vault Architecture
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../index.html" title="DevOps Learning and Research" class="md-nav__button md-logo" aria-label="DevOps Learning and Research" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    DevOps Learning and Research
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../index.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../about.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    About
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../certifications.html" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Certifications
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3" id="__nav_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Certifications
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_1" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../aws-cloud-practitioner.html" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    AWS Certified Cloud Practitioner
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_1" id="__nav_3_1_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_1">
            <span class="md-nav__icon md-icon"></span>
            AWS Certified Cloud Practitioner
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../aws-cloud-practitioner/course-notes/01_Fundamental-Cloud-Concepts/Fundamental%20Cloud%20Concepts.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    01 Fundamental Cloud Concepts
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../aws-cloud-practitioner/course-notes/02_Understanding-Core-AWS-Services/Understanding%20AWS%20Core%20Services.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    02 Understanding Core AWS Services
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../aws-cloud-practitioner/course-notes/03_Introduction-to-Security-and-Architecture/Introduction%20to%20Security%20and%20architecture%20on%20AWS.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    03 Introduction to Security and Architecture
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_1_4" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../aws-cloud-practitioner/course-notes/04_Exam_Preparation/Exam%20Prep%201.html" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    04 Exam Preparation
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_1_4" id="__nav_3_1_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_1_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_1_4">
            <span class="md-nav__icon md-icon"></span>
            04 Exam Preparation
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../aws-cloud-practitioner/course-notes/04_Exam_Preparation/Exam%20Prep%202.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    4.2 - Exam Prep 2
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../CKAD.html" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Certified Kubernetes Application Developer (CKAD)
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_2" id="__nav_3_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2">
            <span class="md-nav__icon md-icon"></span>
            Certified Kubernetes Application Developer (CKAD)
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../CKAD/01_Introduction.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    1.0 - Introduction
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../CKAD/02_Core-Concepts.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2.0 - Core Concepts
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../CKAD/03_Configuration.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3.0 - Configuration
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../CKAD/04_Multi-Container-Pods.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    4.0 - Multi-Container Pods
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../CKAD/05_Observability.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    5.0 - Observability
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../CKAD/06_Pod-Design.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    6.0 - Pod Design
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../CKAD/07_Services-and-Networking.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    7.0 - Services and Networking
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../CKAD/08_Persistent-Volumes.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    8.0 - Persistent Volumes
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../CKAD/09_2021-Updates.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    9.0 - 2021 Updates
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2_10" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../CKAD/13_Mock-Exams/01_Mock-Exam-1.html" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    13 Mock Exams
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_2_10" id="__nav_3_2_10_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_2_10_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2_10">
            <span class="md-nav__icon md-icon"></span>
            13 Mock Exams
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../CKAD/13_Mock-Exams/02_Mock-Exam-2.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    13.2 - Mock Exam 2
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../CKAD/13_Mock-Exams/03_Mock-Exam-3.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    13.3 - Mock Exam 3
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_3" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../CKA.html" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Certified Kubernetes Administrator (CKA)
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_3" id="__nav_3_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_3">
            <span class="md-nav__icon md-icon"></span>
            Certified Kubernetes Administrator (CKA)
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../CKA/01_Course-Introduction.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    1.0 - Introduction
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../CKA/02_Core-Concepts.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2.0 - Core Concepts
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../CKA/03_Scheduling.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3.0 - Scheduling
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../CKA/04_Logging-and-Monitoring.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    4.0 - Logging and Monitoring
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../CKA/05_Application-Lifecycle-Management.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    5.0 - Application Lifecycle Management
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../CKA/06_Cluster-Maintenance.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    6.0 - Cluster Maintenance
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../CKA/07_Security.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    7.0 - Security
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../CKA/08_Storage.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    8.0 - Storage
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../CKA/09_Networking.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    9.0 - Networking
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../CKA/10_Design-a-Kubernetes-Cluster.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    10.0 - Design a Kubernetes Cluster
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../CKA/11_Install-Kubernetes-the-kubeadm-way.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    11.0 - Install Kubernetes the Kubeadm Way
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../CKA/13_Troubleshooting.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    13.0 - Troubleshooting Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../CKA/14_JSONpath-introduction.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    14.1 - Introduction to JSONPath
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_3_14" >
        
          
          <label class="md-nav__link" for="__nav_3_3_14" id="__nav_3_3_14_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Mocks
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_3_14_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_3_14">
            <span class="md-nav__icon md-icon"></span>
            Mocks
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../CKA/Mocks/KodeKloud_Mock_3/02_Mock-Exam-Notes-3.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    KodeKloud Mock 3
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../CKA/Mocks/Kodekloud_Mock_2/01_Mock-Exam-Notes-2.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Kodekloud Mock 2
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_4" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../CKS.html" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Certified Kubernetes Security Specialist (CKS)
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_4" id="__nav_3_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_4">
            <span class="md-nav__icon md-icon"></span>
            Certified Kubernetes Security Specialist (CKS)
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../CKS/01_Introduction.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    1.0 - Introduction
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../CKS/02_The-Kubernetes-Attack-Surface.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2.0 - Understanding the Kubernetes Attack Surface
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../CKS/03_Cluster-Setup-and-Hardening.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3.0 - Cluster Setup and Hardening
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../CKS/04_System-Hardening.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    4.0 - System Hardening
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../CKS/05_Minimize-Microservice-Vulnerabilities.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    5.0 - Minimize Microservice Vulnerabilities
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../CKS/06_Supply-Chain-Security.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    6.0 - Supply Chain Security
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../CKS/07_Monitoring-Logging-and-Runtime-Security.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    7.0 - Monitoring, Logging, and Runtime Security
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_4_8" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../CKS/Mocks/01_Mock-Exam-1.html" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Mocks
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_4_8" id="__nav_3_4_8_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_4_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_4_8">
            <span class="md-nav__icon md-icon"></span>
            Mocks
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../CKS/Mocks/02_Mock-Exam-2.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    8.2 - Mock Exam 2
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../CKS/Mocks/03_Mock-Exam-3.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    10.3 - Mock Exam 3
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_5" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../green-software-for-practitioners.html" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Green Software for Practitioners
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_5" id="__nav_3_5_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_5">
            <span class="md-nav__icon md-icon"></span>
            Green Software for Practitioners
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../green-software-for-practitioners/01_Introduction.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    1.0 - Introduction
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../green-software-for-practitioners/02_Carbon-Efficiency.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2.0 - Carbon Efficiency
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../green-software-for-practitioners/03_Energy-Efficiency.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3.0 - Energy Efficiency
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../green-software-for-practitioners/04_Carbon-Awareness.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    4.0 - Carbon Awareness
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../green-software-for-practitioners/05_Hardware-Efficiency.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    5.0 - Hardware Efficiency
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../green-software-for-practitioners/06_Measurement.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    6.0 - Measurement
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../green-software-for-practitioners/07_Climate-Commitments.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    7.0 - Climate Commitments
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_6" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../terraform-associate.html" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    HashiCorp Certified - Terraform Associate
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_6" id="__nav_3_6_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_6">
            <span class="md-nav__icon md-icon"></span>
            HashiCorp Certified - Terraform Associate
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../terraform-associate/01_Deploying-Infrastructure.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    1.0 - Deploying Infrastructure
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../terraform-associate/02_Working-With-Configurations.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2.0 - Working with Configurations
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../terraform-associate/03_Provisioners.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3.0 - Provisioners
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../terraform-associate/04_Modules-and-Workspaces.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    4.0 - Modules and Workspaces
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../terraform-associate/05_Remote-State-Management.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    5.0 - Remote State Management
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../terraform-associate/06_Security.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    6.0 - Security
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../terraform-associate/07_Terraform-Cloud-and-Enterprise.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    7.0 - Terraform Cloud and Enterprise
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../terraform-associate/08_Exam-Preparation.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    8.0 - Exam Preparation
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_7" checked>
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../vault-associate.html" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    HashiCorp Certified - Vault Associate
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_7" id="__nav_3_7_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_7_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3_7">
            <span class="md-nav__icon md-icon"></span>
            HashiCorp Certified - Vault Associate
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="01_Introduction.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    1.0 - Introduction
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="02_Getting-Started-with-Vault.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2.0 - Getting Started with Vault
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="03_Authentication-and-Authorization.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3.0 - Authentication and Authorization
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="04_Vault-Tokens.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    4.0 - Vault Tokens
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    5.0 - Vault Architecture
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="05_Vault-Architecture.html" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    5.0 - Vault Architecture
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#501-vault-for-production-environments" class="md-nav__link">
    <span class="md-ellipsis">
      5.01 - Vault for Production Environments
    </span>
  </a>
  
    <nav class="md-nav" aria-label="5.01 - Vault for Production Environments">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    <span class="md-ellipsis">
      Overview
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Overview">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#deploying-in-production-mode" class="md-nav__link">
    <span class="md-ellipsis">
      Deploying in Production Mode
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#practical-example" class="md-nav__link">
    <span class="md-ellipsis">
      Practical Example
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#verifying-storage-persistence" class="md-nav__link">
    <span class="md-ellipsis">
      Verifying Storage Persistence
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#502-vault-ui-for-production" class="md-nav__link">
    <span class="md-ellipsis">
      5.02 - Vault UI for Production
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#503-understanding-vault-agent" class="md-nav__link">
    <span class="md-ellipsis">
      5.03 - Understanding Vault Agent
    </span>
  </a>
  
    <nav class="md-nav" aria-label="5.03 - Understanding Vault Agent">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#challenges" class="md-nav__link">
    <span class="md-ellipsis">
      Challenges
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#vault-agent-overview" class="md-nav__link">
    <span class="md-ellipsis">
      Vault Agent Overview
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#running-vault-agent" class="md-nav__link">
    <span class="md-ellipsis">
      Running Vault Agent
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#working-of-vault-agent" class="md-nav__link">
    <span class="md-ellipsis">
      Working of Vault Agent
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#vault-agent-example" class="md-nav__link">
    <span class="md-ellipsis">
      Vault Agent Example
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#504-vault-agent-caching" class="md-nav__link">
    <span class="md-ellipsis">
      5.04 - Vault Agent Caching
    </span>
  </a>
  
    <nav class="md-nav" aria-label="5.04 - Vault Agent Caching">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#primary-functionalities-of-vault-agent" class="md-nav__link">
    <span class="md-ellipsis">
      Primary Functionalities of Vault Agent
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#overview-of-caching" class="md-nav__link">
    <span class="md-ellipsis">
      Overview of Caching
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#in-practice" class="md-nav__link">
    <span class="md-ellipsis">
      In-Practice
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#505-shamirs-secret-for-unsealing-process" class="md-nav__link">
    <span class="md-ellipsis">
      5.05 - Shamirs Secret for Unsealing Process
    </span>
  </a>
  
    <nav class="md-nav" aria-label="5.05 - Shamirs Secret for Unsealing Process">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#notes" class="md-nav__link">
    <span class="md-ellipsis">
      Notes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#seal-stanza" class="md-nav__link">
    <span class="md-ellipsis">
      Seal Stanza
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#506-vault-auto-unseal-overview" class="md-nav__link">
    <span class="md-ellipsis">
      5.06 - Vault Auto-Unseal Overview
    </span>
  </a>
  
    <nav class="md-nav" aria-label="5.06 - Vault Auto-Unseal Overview">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#background" class="md-nav__link">
    <span class="md-ellipsis">
      Background
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#auto-unseal-overview" class="md-nav__link">
    <span class="md-ellipsis">
      Auto-Unseal Overview
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#507-auto-unseal-with-aws-kms" class="md-nav__link">
    <span class="md-ellipsis">
      5.07 - Auto-Unseal with AWS KMS
    </span>
  </a>
  
    <nav class="md-nav" aria-label="5.07 - Auto-Unseal with AWS KMS">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#setting-up-aws-auto-unseal-from-scratch" class="md-nav__link">
    <span class="md-ellipsis">
      Setting up AWS Auto-Unseal From Scratch
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#508-vault-plugin-mechanism" class="md-nav__link">
    <span class="md-ellipsis">
      5.08 - Vault Plugin Mechanism
    </span>
  </a>
  
    <nav class="md-nav" aria-label="5.08 - Vault Plugin Mechanism">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#in-practice_1" class="md-nav__link">
    <span class="md-ellipsis">
      In Practice
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#production" class="md-nav__link">
    <span class="md-ellipsis">
      Production
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#509-audit-devices" class="md-nav__link">
    <span class="md-ellipsis">
      5.09 - Audit Devices
    </span>
  </a>
  
    <nav class="md-nav" aria-label="5.09 - Audit Devices">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#audit-devices-example" class="md-nav__link">
    <span class="md-ellipsis">
      Audit Devices Example
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#important-pointers" class="md-nav__link">
    <span class="md-ellipsis">
      Important Pointers
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#511-vault-enterprise-overview" class="md-nav__link">
    <span class="md-ellipsis">
      5.11 - Vault Enterprise Overview
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#512-vault-namespaces" class="md-nav__link">
    <span class="md-ellipsis">
      5.12 - Vault Namespaces
    </span>
  </a>
  
    <nav class="md-nav" aria-label="5.12 - Vault Namespaces">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#background-context" class="md-nav__link">
    <span class="md-ellipsis">
      Background Context
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#namespaces-example" class="md-nav__link">
    <span class="md-ellipsis">
      Namespaces Example
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#513-vault-replication" class="md-nav__link">
    <span class="md-ellipsis">
      5.13 - Vault Replication
    </span>
  </a>
  
    <nav class="md-nav" aria-label="5.13 - Vault Replication">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#performance-replication" class="md-nav__link">
    <span class="md-ellipsis">
      Performance Replication
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#disaster-recovery-replication" class="md-nav__link">
    <span class="md-ellipsis">
      Disaster Recovery Replication
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#514-monitoring-telemetry-in-vault" class="md-nav__link">
    <span class="md-ellipsis">
      5.14 - Monitoring Telemetry in Vault
    </span>
  </a>
  
    <nav class="md-nav" aria-label="5.14 - Monitoring Telemetry in Vault">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#metrics-output" class="md-nav__link">
    <span class="md-ellipsis">
      Metrics Output
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configuration" class="md-nav__link">
    <span class="md-ellipsis">
      Configuration
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#515-high-availability-setup-implementation-in-vault" class="md-nav__link">
    <span class="md-ellipsis">
      5.15 - High-Availability Setup &amp; Implementation in Vault
    </span>
  </a>
  
    <nav class="md-nav" aria-label="5.15 - High-Availability Setup &amp; Implementation in Vault">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#overview-of-ha" class="md-nav__link">
    <span class="md-ellipsis">
      Overview of HA
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#high-availability-example" class="md-nav__link">
    <span class="md-ellipsis">
      High Availability Example
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#implementing-vault-ha" class="md-nav__link">
    <span class="md-ellipsis">
      Implementing Vault HA
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#516-raft-storage-snapshot-and-restore" class="md-nav__link">
    <span class="md-ellipsis">
      5.16 - Raft Storage - Snapshot and Restore
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="06_Exam-Preparation.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    6.0 - Exam Preparation
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_8" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../vmware-application-modernization.html" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    VMware Application Modernization Professional
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_8" id="__nav_3_8_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_8">
            <span class="md-nav__icon md-icon"></span>
            VMware Application Modernization Professional
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_8_1" >
        
          
          <label class="md-nav__link" for="__nav_3_8_1" id="__nav_3_8_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    VMware Tanzu Kubernetes Grid
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_8_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_8_1">
            <span class="md-nav__icon md-icon"></span>
            VMware Tanzu Kubernetes Grid
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../vmware-application-modernization/vmware-tanzu-kubernetes-grid/00_Introduction/01_Course-Introduction.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    00 Introduction
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_8_1_2" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../vmware-application-modernization/vmware-tanzu-kubernetes-grid/01_VMware_Tanzu_Portfolio/01_VMWare-Tanzu-Portfolio.html" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    01 VMware Tanzu Portfolio
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_8_1_2" id="__nav_3_8_1_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_3_8_1_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_8_1_2">
            <span class="md-nav__icon md-icon"></span>
            01 VMware Tanzu Portfolio
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../vmware-application-modernization/vmware-tanzu-kubernetes-grid/01_VMware_Tanzu_Portfolio/02_Tanzu-Kubernetes-Grid-Concepts.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    1.2 - Tanzu Kubernetes Grid Concepts
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../vmware-application-modernization/vmware-tanzu-kubernetes-grid/01_VMware_Tanzu_Portfolio/03_The-Tanzu-CLI.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    1.3 - The Tanzu CLI
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../vmware-application-modernization/vmware-tanzu-kubernetes-grid/01_VMware_Tanzu_Portfolio/04_%20Lab-1-Setting-Up-a-Bootstrap-Machine.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    1.4 - Lab 1 - Setting Up a Bootstrap Machine
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../vmware-application-modernization/vmware-tanzu-kubernetes-grid/01_VMware_Tanzu_Portfolio/05_Cluster-API.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    1.5 - Cluster API
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../vmware-application-modernization/vmware-tanzu-kubernetes-grid/01_VMware_Tanzu_Portfolio/06_End-of-Module-Assessment.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    1.6 - End of Module Assessment
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_8_1_3" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../vmware-application-modernization/vmware-tanzu-kubernetes-grid/02_Management_Clusters/01_Overview-of-Management-Clusters.html" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    02 Management Clusters
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_8_1_3" id="__nav_3_8_1_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_3_8_1_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_8_1_3">
            <span class="md-nav__icon md-icon"></span>
            02 Management Clusters
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../vmware-application-modernization/vmware-tanzu-kubernetes-grid/02_Management_Clusters/02_Lab-2-TKG_Container-Images.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2.2 - Lab 2
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../vmware-application-modernization/vmware-tanzu-kubernetes-grid/02_Management_Clusters/03_Lab-3-Create-VM-Templates.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2.3 - Lab 3
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../vmware-application-modernization/vmware-tanzu-kubernetes-grid/02_Management_Clusters/04_NSX-Advanced-Load-Balancer.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2.4 - NSX Advanced Load Balancer
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../vmware-application-modernization/vmware-tanzu-kubernetes-grid/02_Management_Clusters/05_Cluster-Authentication.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2.5 - Cluster Authentication
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../vmware-application-modernization/vmware-tanzu-kubernetes-grid/02_Management_Clusters/06_Creating-Management-Clusters.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2.6 - Creating Management Clusters
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../vmware-application-modernization/vmware-tanzu-kubernetes-grid/02_Management_Clusters/07_Lab-4-Create-Management-Clusters.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2.7 - Lab 4
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../vmware-application-modernization/vmware-tanzu-kubernetes-grid/02_Management_Clusters/08_Managing-Management-Clusters.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2.8 - Managing Management Clusters
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../vmware-application-modernization/vmware-tanzu-kubernetes-grid/02_Management_Clusters/09_End-of-Module-Assessment.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2.9 - End of Module Assessment
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_8_1_4" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../vmware-application-modernization/vmware-tanzu-kubernetes-grid/03_Tanzu_Kubernetes_Clusters/01_Building-Custom-Cluster-Machine-Images.html" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    03 Tanzu Kubernetes Clusters
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_8_1_4" id="__nav_3_8_1_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_3_8_1_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_8_1_4">
            <span class="md-nav__icon md-icon"></span>
            03 Tanzu Kubernetes Clusters
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../vmware-application-modernization/vmware-tanzu-kubernetes-grid/03_Tanzu_Kubernetes_Clusters/02_Deploying-Tanzu-Kubernetes-Cluster.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3.2 - Deploying Tanzu Kubernetes Cluster
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../vmware-application-modernization/vmware-tanzu-kubernetes-grid/03_Tanzu_Kubernetes_Clusters/03_Lab-5-Create-Tanzu-Kubernetes-Cluster.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3.3 - Lab 5
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../vmware-application-modernization/vmware-tanzu-kubernetes-grid/03_Tanzu_Kubernetes_Clusters/04_Managing-Tanzu-Kubernetes-Clusters.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3.4 - Managing Tanzu Kubernetes Clusters
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../vmware-application-modernization/vmware-tanzu-kubernetes-grid/03_Tanzu_Kubernetes_Clusters/05_Lab-6-Scale-Tanzu-Kubernetes-Clusters.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3.5 - Lab 6
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../vmware-application-modernization/vmware-tanzu-kubernetes-grid/03_Tanzu_Kubernetes_Clusters/06_Lab-7.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3.6 - Lab 7
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../vmware-application-modernization/vmware-tanzu-kubernetes-grid/03_Tanzu_Kubernetes_Clusters/07_Managing-Cluster-Lifecycles.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3.7 - Managing Cluster Lifecycles
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../vmware-application-modernization/vmware-tanzu-kubernetes-grid/03_Tanzu_Kubernetes_Clusters/08_End-of-Module-Assessment.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3.8 - End of Module Assessment
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_8_1_5" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../vmware-application-modernization/vmware-tanzu-kubernetes-grid/04_Tanzu_Kubernetes_Grid_Extensions/01_Tanzu-Kubernetes-Grid-Extensions.html" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    04 Tanzu Kubernetes Grid Extensions
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_8_1_5" id="__nav_3_8_1_5_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_3_8_1_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_8_1_5">
            <span class="md-nav__icon md-icon"></span>
            04 Tanzu Kubernetes Grid Extensions
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../vmware-application-modernization/vmware-tanzu-kubernetes-grid/04_Tanzu_Kubernetes_Grid_Extensions/02_Lab-8_Working-with-Extensions.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    4.02 - Lab 8
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../vmware-application-modernization/vmware-tanzu-kubernetes-grid/04_Tanzu_Kubernetes_Grid_Extensions/03_Lab-9_Deploy-Cert-Manager.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    4.03 - Lab 9
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../vmware-application-modernization/vmware-tanzu-kubernetes-grid/04_Tanzu_Kubernetes_Grid_Extensions/04_Image-Registry.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    4.04 - Image Registry
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../vmware-application-modernization/vmware-tanzu-kubernetes-grid/04_Tanzu_Kubernetes_Grid_Extensions/05_Logging.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    4.05 - Logging
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../vmware-application-modernization/vmware-tanzu-kubernetes-grid/04_Tanzu_Kubernetes_Grid_Extensions/06_Lab-10_Deploy-Fluentbit.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    4.06 - Lab 10
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../vmware-application-modernization/vmware-tanzu-kubernetes-grid/04_Tanzu_Kubernetes_Grid_Extensions/07_Ingress.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    4.07 - Ingress
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../vmware-application-modernization/vmware-tanzu-kubernetes-grid/04_Tanzu_Kubernetes_Grid_Extensions/08_Lab-11_Deploy-Contour.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    4.08 - Lab 11
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../vmware-application-modernization/vmware-tanzu-kubernetes-grid/04_Tanzu_Kubernetes_Grid_Extensions/09_Service-Discovery.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    4.09 - Service Discovery
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../vmware-application-modernization/vmware-tanzu-kubernetes-grid/04_Tanzu_Kubernetes_Grid_Extensions/10_Lab-12_Deploy-External-DNS.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    4.10 - Lab 12
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../vmware-application-modernization/vmware-tanzu-kubernetes-grid/04_Tanzu_Kubernetes_Grid_Extensions/11_Cluster-Monitoring.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    4.11 - Cluster Monitoring
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../vmware-application-modernization/vmware-tanzu-kubernetes-grid/04_Tanzu_Kubernetes_Grid_Extensions/12_Lab-13_Deploy-Prometheus-and-Grafana.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    4.12 - Lab 13
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../vmware-application-modernization/vmware-tanzu-kubernetes-grid/04_Tanzu_Kubernetes_Grid_Extensions/13_Lab-14_Accessing-the-Cluster.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    4.13 - Lab 14
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../vmware-application-modernization/vmware-tanzu-kubernetes-grid/04_Tanzu_Kubernetes_Grid_Extensions/14_End-of-Module-Assessment.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    4.14 - End of Module Assessment
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_8_1_6" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../vmware-application-modernization/vmware-tanzu-kubernetes-grid/05_Troubleshooting/01_Tanzu-Kubernetes-Grid-Logs.html" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    05 Troubleshooting
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_8_1_6" id="__nav_3_8_1_6_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_3_8_1_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_8_1_6">
            <span class="md-nav__icon md-icon"></span>
            05 Troubleshooting
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../vmware-application-modernization/vmware-tanzu-kubernetes-grid/05_Troubleshooting/02_Using-Crash-Diagnostics.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    5.2 - Using Crash Diagnostics
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../vmware-application-modernization/vmware-tanzu-kubernetes-grid/05_Troubleshooting/03_Lab-15_Using-Crash-Diagnostics.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    5.3 - Lab 15
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../vmware-application-modernization/vmware-tanzu-kubernetes-grid/05_Troubleshooting/04_Troubleshooting-Commands.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    5.4 - Troubleshooting Commands
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../vmware-application-modernization/vmware-tanzu-kubernetes-grid/05_Troubleshooting/05_Lab-16_Connection-to-Nodes.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    5.5 - Lab 16
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../vmware-application-modernization/vmware-tanzu-kubernetes-grid/05_Troubleshooting/06_Run-Image-Builder.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    5.6 - Lab 17
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../vmware-application-modernization/vmware-tanzu-kubernetes-grid/05_Troubleshooting/07_End-of-Module-Assessment.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    5.7 - End of Module Assessment
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../tooling.html" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Tooling
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4" id="__nav_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Tooling
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tooling/helm/kubernetes-package-administration-with-helm.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Helm
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2" >
        
          
          <label class="md-nav__link" for="__nav_4_2" id="__nav_4_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Ansible
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_2">
            <span class="md-nav__icon md-icon"></span>
            Ansible
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2_1" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../tooling/ansible/ansible-for-beginners.html" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Ansible for Beginners
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_2_1" id="__nav_4_2_1_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_2_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_2_1">
            <span class="md-nav__icon md-icon"></span>
            Ansible for Beginners
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tooling/ansible/ansible-for-beginners/01_Introduction.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    1.0 - Introduction
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tooling/ansible/ansible-for-beginners/02_Configuration-and-Basic-Concepts.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2.0 - Configuration and Basic Concepts
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tooling/ansible/ansible-for-beginners/03_Ansible-Inventory.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3.0 - Ansible Inventory
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tooling/ansible/ansible-for-beginners/04_Ansible-Variables.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    4.0 - Ansible Variables
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tooling/ansible/ansible-for-beginners/05_Ansible-Playbooks.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    5.0 - Ansible Playbooks
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tooling/ansible/ansible-for-beginners/06_Ansible-Modules.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    6.0 - Ansible Modules
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tooling/ansible/ansible-for-beginners/07_Ansible-Handlers-Roles-and-Collections.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    7.0 - Ansible Handlers: Roles and Collections
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tooling/ansible/ansible-for-beginners/08_Advanced-Topics.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    8.0 - Advanced Topics
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tooling/ansible/ansible-for-beginners/09_Appendix.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    9.0 - Appendix
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2_2" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../tooling/ansible/ansible-advanced.html" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Ansible Advanced
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_2_2" id="__nav_4_2_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_2_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_2_2">
            <span class="md-nav__icon md-icon"></span>
            Ansible Advanced
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tooling/ansible/ansible-advanced/01_Introduction.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    1.0 - Introduction
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tooling/ansible/ansible-advanced/02_Web_Application.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2.0 - Web Application
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tooling/ansible/ansible-advanced/03_File_Separation.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3.0 - File Separation
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tooling/ansible/ansible-advanced/04_Roles.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    4.0 - Roles
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tooling/ansible/ansible-advanced/05_Asynchronous_Actions.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    5.0 - Asynchronous Actions
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tooling/ansible/ansible-advanced/06_Strategy.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    6.0 - Strategy
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tooling/ansible/ansible-advanced/07_Error_Handling.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    7.0 - Error Handling
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tooling/ansible/ansible-advanced/08_Templating_Jinja2.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    8.0 - Templating - Jinja2
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tooling/ansible/ansible-advanced/09_Lookup.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    9.0 - Lookups
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tooling/ansible/ansible-advanced/10_Vault.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    10.0 - Vault
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tooling/ansible/ansible-advanced/11_Dynamic_Inventory.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    11.0 - Dynamic Inventory
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tooling/ansible/ansible-advanced/12_Custom_Modules/01_Custom_Modules.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    12 Custom Modules
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tooling/ansible/ansible-advanced/13_Plugins/01_Plugins.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    13 Plugins
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tooling/ansible/ansible-advanced/14_Assignment/01_Assignment.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    14 Assignment
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2_3" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../tooling/ansible/automating-ec2-deployment.html" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Automating EC2 Deployments
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_2_3" id="__nav_4_2_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_2_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_2_3">
            <span class="md-nav__icon md-icon"></span>
            Automating EC2 Deployments
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tooling/ansible/automating-ec2-deployment/01_introduction-to-cloud-automation.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    1.0 - About AWS EC2 and Ansible Automation
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tooling/ansible/automating-ec2-deployment/02_planning-and-preparing-for-automation.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2.0 - Planning and Preparing for Automation
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tooling/ansible/automating-ec2-deployment/03_deploying-into-ec2.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3.0 - Deploying into EC2
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tooling/ansible/automating-ec2-deployment/04_generating-an-inventory-of-ec2-instances.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    4.0 - Generating an Inventory of EC2 Instances
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tooling/ansible/automating-ec2-deployment/05_building-custom-amis.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    5.0 - Building Custom AMIs with Ansible
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tooling/ansible/automating-ec2-deployment/06_cleanup.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    6.0 - Cleaning up Resources
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tooling/packer/getting-started-with-hashicorp-packer.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Packer
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tooling/argocd/getting-started-with-argocd.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ArgoCD
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tooling/grafana-loki/using-centralized-logging.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Grafana Loki
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tags.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Tags
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#501-vault-for-production-environments" class="md-nav__link">
    <span class="md-ellipsis">
      5.01 - Vault for Production Environments
    </span>
  </a>
  
    <nav class="md-nav" aria-label="5.01 - Vault for Production Environments">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    <span class="md-ellipsis">
      Overview
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Overview">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#deploying-in-production-mode" class="md-nav__link">
    <span class="md-ellipsis">
      Deploying in Production Mode
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#practical-example" class="md-nav__link">
    <span class="md-ellipsis">
      Practical Example
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#verifying-storage-persistence" class="md-nav__link">
    <span class="md-ellipsis">
      Verifying Storage Persistence
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#502-vault-ui-for-production" class="md-nav__link">
    <span class="md-ellipsis">
      5.02 - Vault UI for Production
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#503-understanding-vault-agent" class="md-nav__link">
    <span class="md-ellipsis">
      5.03 - Understanding Vault Agent
    </span>
  </a>
  
    <nav class="md-nav" aria-label="5.03 - Understanding Vault Agent">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#challenges" class="md-nav__link">
    <span class="md-ellipsis">
      Challenges
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#vault-agent-overview" class="md-nav__link">
    <span class="md-ellipsis">
      Vault Agent Overview
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#running-vault-agent" class="md-nav__link">
    <span class="md-ellipsis">
      Running Vault Agent
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#working-of-vault-agent" class="md-nav__link">
    <span class="md-ellipsis">
      Working of Vault Agent
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#vault-agent-example" class="md-nav__link">
    <span class="md-ellipsis">
      Vault Agent Example
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#504-vault-agent-caching" class="md-nav__link">
    <span class="md-ellipsis">
      5.04 - Vault Agent Caching
    </span>
  </a>
  
    <nav class="md-nav" aria-label="5.04 - Vault Agent Caching">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#primary-functionalities-of-vault-agent" class="md-nav__link">
    <span class="md-ellipsis">
      Primary Functionalities of Vault Agent
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#overview-of-caching" class="md-nav__link">
    <span class="md-ellipsis">
      Overview of Caching
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#in-practice" class="md-nav__link">
    <span class="md-ellipsis">
      In-Practice
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#505-shamirs-secret-for-unsealing-process" class="md-nav__link">
    <span class="md-ellipsis">
      5.05 - Shamirs Secret for Unsealing Process
    </span>
  </a>
  
    <nav class="md-nav" aria-label="5.05 - Shamirs Secret for Unsealing Process">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#notes" class="md-nav__link">
    <span class="md-ellipsis">
      Notes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#seal-stanza" class="md-nav__link">
    <span class="md-ellipsis">
      Seal Stanza
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#506-vault-auto-unseal-overview" class="md-nav__link">
    <span class="md-ellipsis">
      5.06 - Vault Auto-Unseal Overview
    </span>
  </a>
  
    <nav class="md-nav" aria-label="5.06 - Vault Auto-Unseal Overview">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#background" class="md-nav__link">
    <span class="md-ellipsis">
      Background
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#auto-unseal-overview" class="md-nav__link">
    <span class="md-ellipsis">
      Auto-Unseal Overview
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#507-auto-unseal-with-aws-kms" class="md-nav__link">
    <span class="md-ellipsis">
      5.07 - Auto-Unseal with AWS KMS
    </span>
  </a>
  
    <nav class="md-nav" aria-label="5.07 - Auto-Unseal with AWS KMS">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#setting-up-aws-auto-unseal-from-scratch" class="md-nav__link">
    <span class="md-ellipsis">
      Setting up AWS Auto-Unseal From Scratch
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#508-vault-plugin-mechanism" class="md-nav__link">
    <span class="md-ellipsis">
      5.08 - Vault Plugin Mechanism
    </span>
  </a>
  
    <nav class="md-nav" aria-label="5.08 - Vault Plugin Mechanism">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#in-practice_1" class="md-nav__link">
    <span class="md-ellipsis">
      In Practice
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#production" class="md-nav__link">
    <span class="md-ellipsis">
      Production
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#509-audit-devices" class="md-nav__link">
    <span class="md-ellipsis">
      5.09 - Audit Devices
    </span>
  </a>
  
    <nav class="md-nav" aria-label="5.09 - Audit Devices">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#audit-devices-example" class="md-nav__link">
    <span class="md-ellipsis">
      Audit Devices Example
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#important-pointers" class="md-nav__link">
    <span class="md-ellipsis">
      Important Pointers
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#511-vault-enterprise-overview" class="md-nav__link">
    <span class="md-ellipsis">
      5.11 - Vault Enterprise Overview
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#512-vault-namespaces" class="md-nav__link">
    <span class="md-ellipsis">
      5.12 - Vault Namespaces
    </span>
  </a>
  
    <nav class="md-nav" aria-label="5.12 - Vault Namespaces">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#background-context" class="md-nav__link">
    <span class="md-ellipsis">
      Background Context
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#namespaces-example" class="md-nav__link">
    <span class="md-ellipsis">
      Namespaces Example
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#513-vault-replication" class="md-nav__link">
    <span class="md-ellipsis">
      5.13 - Vault Replication
    </span>
  </a>
  
    <nav class="md-nav" aria-label="5.13 - Vault Replication">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#performance-replication" class="md-nav__link">
    <span class="md-ellipsis">
      Performance Replication
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#disaster-recovery-replication" class="md-nav__link">
    <span class="md-ellipsis">
      Disaster Recovery Replication
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#514-monitoring-telemetry-in-vault" class="md-nav__link">
    <span class="md-ellipsis">
      5.14 - Monitoring Telemetry in Vault
    </span>
  </a>
  
    <nav class="md-nav" aria-label="5.14 - Monitoring Telemetry in Vault">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#metrics-output" class="md-nav__link">
    <span class="md-ellipsis">
      Metrics Output
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configuration" class="md-nav__link">
    <span class="md-ellipsis">
      Configuration
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#515-high-availability-setup-implementation-in-vault" class="md-nav__link">
    <span class="md-ellipsis">
      5.15 - High-Availability Setup &amp; Implementation in Vault
    </span>
  </a>
  
    <nav class="md-nav" aria-label="5.15 - High-Availability Setup &amp; Implementation in Vault">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#overview-of-ha" class="md-nav__link">
    <span class="md-ellipsis">
      Overview of HA
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#high-availability-example" class="md-nav__link">
    <span class="md-ellipsis">
      High Availability Example
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#implementing-vault-ha" class="md-nav__link">
    <span class="md-ellipsis">
      Implementing Vault HA
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#516-raft-storage-snapshot-and-restore" class="md-nav__link">
    <span class="md-ellipsis">
      5.16 - Raft Storage - Snapshot and Restore
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="50-vault-architecture">5.0 - Vault Architecture<a class="headerlink" href="#50-vault-architecture" title="Permanent link">&para;</a></h1>
<h2 id="501-vault-for-production-environments">5.01 - Vault for Production Environments<a class="headerlink" href="#501-vault-for-production-environments" title="Permanent link">&para;</a></h2>
<h3 id="overview">Overview<a class="headerlink" href="#overview" title="Permanent link">&para;</a></h3>
<ul>
<li>Up until this point, Vault has been used in development mode only.</li>
<li>In this, all data is stored in-memory ONLY.</li>
<li>This is obviously not suitable for production, a new storage class is required. Vault supports a multitude of storage class options, such as:</li>
<li>Filesystem</li>
<li>S3 Bucket (AWS)</li>
<li>Databases (MySQL, PostgreSQL, etc.)</li>
</ul>
<h4 id="deploying-in-production-mode">Deploying in Production Mode<a class="headerlink" href="#deploying-in-production-mode" title="Permanent link">&para;</a></h4>
<ul>
<li>Vault servers are configured using a particular file in JSON or HCL.</li>
<li><strong>Example config:</strong></li>
</ul>
<pre><code class="language-go">storage &quot;file&quot; {
 path = &quot;/root/vault-data&quot;
}

listener &quot;tcp&quot; {
  address      = &quot;0.0.0.0:8200&quot;
  tls_disable  = 1
}
</code></pre>
<ul>
<li>Once setup, the Vault can be started using the config file: <code>vault server -config /path/to file</code></li>
<li>As we're using a new backend, once the Vault server is started, it must be initialized.</li>
<li>In this step, encryption keys are generated, as well as unseal keys and the initial root token.</li>
<li>To do so: <code>vault operator init</code></li>
<li>This will output the Unseal keys and Root Tokens.</li>
<li>Once initialized, the Vault must be unsealed. This is true of every initialized Vault.</li>
<li>Unsealing is required as Vault knows where to look in the particular storage backend, but it does not have the key to decrypting it and reading the data.</li>
<li>To unseal the Vault: <code>vault operator unseal</code></li>
</ul>
<h4 id="practical-example">Practical Example<a class="headerlink" href="#practical-example" title="Permanent link">&para;</a></h4>
<ul>
<li>For any VMs used, ensure that SSH port 22 is open for ease of use.</li>
<li>
<p>This example will be set up for Linux.</p>
</li>
<li>
<p>Creating the config file. The following areas should be added:</p>
<ol>
<li>Storage (required)</li>
<li>Listener (required)</li>
<li>Telemetry (optional)</li>
</ol>
<p>```go
storage "file" {
  path = "/path/to/vault/data" # path will be created if it doesn't exist!
}</p>
<p>listener "tcp" {
  address      = "0.0.0.0:8200"
  tls_disable  = 1 # shouldn't be disabled when running in production
}
```</p>
</li>
<li>
<p>Starting the server: <code>vault server -config /path/to/config.hcl</code></p>
</li>
<li>Initialize the Vault:<ol>
<li>Ensure <code>VAULT_ADDR</code> environment variable is set</li>
<li>Verify vault operations by running <code>vault status</code></li>
<li>Run <code>vault operator init</code></li>
<li>Save the unseal keys and root tokens - they will disappear and be inaccessible after this!</li>
</ol>
</li>
<li>Unseal the Vault: <code>vault operator unseal</code><ol>
<li>Provide 1 of the 5 unseal keys provided</li>
<li>Repeat two more times such that 3 of the 5 unseal keys have been provided.</li>
</ol>
</li>
<li>You can test Vault operations by using e.g. <code>vault list auth/token/accessors</code><ol>
<li>This will fail though, as Vault in Production mode by default does not set the root token as the token for usage.</li>
<li>Login via root <code>vault login</code> and provide the root token<ol>
<li>Future requests will automatically use the token.</li>
<li>The same will be applied for any other tokens created (so long as the user has sufficient permission!)</li>
</ol>
</li>
</ol>
</li>
</ul>
<hr />
<h4 id="verifying-storage-persistence">Verifying Storage Persistence<a class="headerlink" href="#verifying-storage-persistence" title="Permanent link">&para;</a></h4>
<ul>
<li>As production mode persists storage, if Vault is shut down, the data isn't deleted.</li>
<li>
<p>Upon restart of Vault, the process outlined previously must be followed to unseal the vault and verify data persistence.</p>
</li>
<li>
<p><strong>Note:</strong> THE UNSEAL KEYS SHOULD NOT BE STORED WITH ONLY 1 PERSON - THEY SHOULD BE DISTRIBUTED AMONGST TEAM MEMBERS</p>
</li>
</ul>
<h2 id="502-vault-ui-for-production">5.02 - Vault UI for Production<a class="headerlink" href="#502-vault-ui-for-production" title="Permanent link">&para;</a></h2>
<ul>
<li>By default, the Vault GUI is disabled for production. It can be enabled via the Vault config file however.</li>
<li>All that is needed is adding the following to the config file:</li>
</ul>
<pre><code class="language-go">ui = true # boolean
</code></pre>
<ul>
<li>Note: For production environments, you may wish to update the private address of the server under <code>listener</code>.</li>
<li>You can verify the system is listening to the desired address using <code>netstat -ntlp</code></li>
<li>
<p>Once the Vault is unsealed, ensure that the desired port for HashiCorp Vault is open - in this case <code>8200</code>, to allow the user to access the Vault UI.</p>
</li>
<li>
<p><strong>Note:</strong> When accessing the UI whilst the Vault is in a sealed state, users are able to provide the unseal keys to unseal the vault.</p>
</li>
</ul>
<h2 id="503-understanding-vault-agent">5.03 - Understanding Vault Agent<a class="headerlink" href="#503-understanding-vault-agent" title="Permanent link">&para;</a></h2>
<h3 id="challenges">Challenges<a class="headerlink" href="#challenges" title="Permanent link">&para;</a></h3>
<ul>
<li>For applications needing to interact with Vault, they must first authenticate to Vault and then use the tokens for their required tasks.</li>
<li>Outside of this, logic related to token renewal, etc may be required with the application.</li>
<li>Rather than building custom logic for the application(s), the Vault agent can be utilised.</li>
</ul>
<h3 id="vault-agent-overview">Vault Agent Overview<a class="headerlink" href="#vault-agent-overview" title="Permanent link">&para;</a></h3>
<ul>
<li>A client daemon that automates the workflow of client login and token refresh.</li>
<li>It automatically authenticates to Vault for supported auth methods.</li>
<li>It ensures tokens are renewed by re-authenticating as required, until renewal is no longer allowed.</li>
<li>Additionally, it is designed with robustness and fault-tolerance in mind.</li>
</ul>
<p>The Vault agent works as follows:</p>
<ol>
<li>Authenticates and acquires a token via the configured auth method</li>
<li>The token is written to the backend</li>
<li>The token is used to authenticate to Vault</li>
</ol>
<h3 id="running-vault-agent">Running Vault Agent<a class="headerlink" href="#running-vault-agent" title="Permanent link">&para;</a></h3>
<ul>
<li>To use the Vault agent, the binary can be ran in "agent mode"</li>
<li>To do so, run <code>vault agent config=&lt;config file&gt;</code></li>
<li>The agent configuration file must specify the auth method and sink locations where the tokens are to be written.</li>
</ul>
<h3 id="working-of-vault-agent">Working of Vault Agent<a class="headerlink" href="#working-of-vault-agent" title="Permanent link">&para;</a></h3>
<ul>
<li>When Vault is started in agent mode, it will attempt to get a Vault token via the auth method specified in the agent config file.</li>
<li>Upon successful authentication, the token is written to the sink locations.</li>
<li>Whenever the current token's value changes; the agent writes to the sinks.</li>
</ul>
<h3 id="vault-agent-example">Vault Agent Example<a class="headerlink" href="#vault-agent-example" title="Permanent link">&para;</a></h3>
<ul>
<li>Various Auth methods are available, including AppRole, Azure, and AWS.</li>
<li>Ensure the AppRole Auth method is enabled either via the CLI or UI</li>
<li><code>vault auth enable approle</code></li>
<li>Create a policy for the agent. An example follows:</li>
</ul>
<pre><code class="language-go">path &quot;auth/token/create&quot; {
  capabilities = [&quot;update&quot;]
}
</code></pre>
<ul>
<li>Create an approle to use the policy defined above: <code>vault write auth/approle/role/&lt;role name&gt; token_policies="&lt;policy name&gt;"</code></li>
<li>Fetch the role ID: <code>vault read auth/approle/role/&lt;role name&gt;/role-id</code></li>
<li>Obtain the secret ID: <code>vault read auth/approle/role/&lt;role name&gt;/secret-id</code></li>
<li>Add the following code (example) at minimum to the agent config file (written in HCL):</li>
</ul>
<pre><code class="language-go">exit_after_auth = false
pid_file = &quot;./pidfile&quot;

auto_auth {
 method &quot;approle&quot; {
  mount_path = &quot;auth/approle&quot;
  config = {
    role_id_file_path = &quot;/path/to/role-id&quot; # files must exist!
    secret_id_file _path = &quot;/path/to/secret-id&quot; # files must exist!
    remove_secret_id_file_after_reading = false
  }
}

sink &quot;file&quot; {
 config = {
  path = &quot;/path/to/token&quot;
 }
}

vault {
 address = &quot;http://127.0.0.1:8200
}
</code></pre>
<ul>
<li>Start the Vault in agent mode via <code>vault agent -config=/path/to/file.hcl</code></li>
<li>Information provided regarding the sink file with the token</li>
<li>This can be looked up via <code>vault token lookup &lt;token&gt;</code></li>
<li>Now, any application wishing to use the token must fetch it from the sink file location. As an example, a Kubernetes secret could be based on this.</li>
</ul>
<h2 id="504-vault-agent-caching">5.04 - Vault Agent Caching<a class="headerlink" href="#504-vault-agent-caching" title="Permanent link">&para;</a></h2>
<h3 id="primary-functionalities-of-vault-agent">Primary Functionalities of Vault Agent<a class="headerlink" href="#primary-functionalities-of-vault-agent" title="Permanent link">&para;</a></h3>
<ul>
<li>Auto-Auth</li>
<li>Automatically authenticates to Vault and manages the token removal process</li>
<li>Caching</li>
<li>Allows client-side caching of responses containing newly-created tokens.</li>
</ul>
<h3 id="overview-of-caching">Overview of Caching<a class="headerlink" href="#overview-of-caching" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p>Vault Caching follows a particular general process:</p>
</li>
<li>
<p>Application/Service requests a lease or token from Vault Agent</p>
</li>
<li><strong>Vault Agent Response: Upon Receiving the Request, Vault checks its Cache</strong><ol>
<li>If the requested lease or token is in cache, it is returned to the app/service</li>
<li>If not found in the cache, a request is forwarded to Vault Server to obtain the lease or token</li>
</ol>
</li>
<li>If step 2b occurred, Vault Server returns the requested lease or token</li>
<li>The returned lease or token is stored in the Agent Cache of the Vault client; then returned to the application or service for usage.</li>
</ul>
<h3 id="in-practice">In-Practice<a class="headerlink" href="#in-practice" title="Permanent link">&para;</a></h3>
<ul>
<li>When looking to utilise the caching mechanism of the Vault agent, two particular areas must be added to the config:</li>
</ul>
<pre><code class="language-go">cache {
 use_auto_auth_token = true
}

listener &quot;tcp&quot; {
 address = &quot;127.0.0.1:8007&quot;
 tls_disable = true
}
</code></pre>
<ul>
<li>Starting the vault using the config: <code>vault agent -config=/path/to/config.hcl</code></li>
<li>Run a test command: <code>&lt;token&gt; vault token create</code></li>
<li>No logs will appear in the agent logs as this request goes directly to the Vault Server</li>
<li>To resolve, <code>export VAULT_AGENT_ADDR=127.0.0.1:8007</code></li>
<li>If the request is made again, the same token will be returned rather than a new one generated - this is because the original token was stored in the cache of the agent.</li>
<li>In separate users, so long as they have the Vault Agent Address variable set, they will not require a token to run commands as the client token is used.</li>
</ul>
<h2 id="505-shamirs-secret-for-unsealing-process">5.05 - Shamirs Secret for Unsealing Process<a class="headerlink" href="#505-shamirs-secret-for-unsealing-process" title="Permanent link">&para;</a></h2>
<ul>
<li>Storage backend in Vault is considered to be untrusted.</li>
<li>Any data stored is within the encrypted state.</li>
<li>When vault is initialized, it generates an encryption key to protect all data stored within.</li>
<li>This key is then protected by a master key</li>
<li>Vault then uses Shamir's secret sharing algorithm to split the master key into 5 separate shares, where any 3 of which can be used to reconstruct the master key.</li>
<li>This is why 3 keys must be used to unseal the vault.</li>
</ul>
<h3 id="notes">Notes<a class="headerlink" href="#notes" title="Permanent link">&para;</a></h3>
<ul>
<li>The number of shares and minimum threshold required can both be specified.</li>
<li>Shamirs technique can be disabled such that the master key can be used directly for unsealing.</li>
<li>Once Vault receives the encryption key, it can decrypt the data in the storage backend and the Vault becomes unsealed</li>
</ul>
<h3 id="seal-stanza">Seal Stanza<a class="headerlink" href="#seal-stanza" title="Permanent link">&para;</a></h3>
<ul>
<li>In the Vault server config file, the particular seal type can be configured if usage of Shamir's technique is not desired.</li>
</ul>
<pre><code class="language-go">seal [name] {
 # seal details
}
</code></pre>
<ul>
<li>This is optional configuration -  by default Shamir's algorithm will be used if not configured.</li>
<li>Most people tend to use this by default.</li>
<li>Alternatives could include HSM or Cloud Key Management Solutions e.g. AWS KMS.</li>
</ul>
<h2 id="506-vault-auto-unseal-overview">5.06 - Vault Auto-Unseal Overview<a class="headerlink" href="#506-vault-auto-unseal-overview" title="Permanent link">&para;</a></h2>
<h3 id="background">Background<a class="headerlink" href="#background" title="Permanent link">&para;</a></h3>
<ul>
<li>During Vault Unseal process, users must enter they key(s) required.</li>
<li>This allows each share of the master key to be stored separately for improved security.</li>
<li>This can lead to issues:</li>
<li>If there are multiple Vault clusters in an organization, unsealing them can be a tiresome process heavily dependent upon the availability of users with the keys.</li>
<li>Unsealing makes the process of automating a Vault install difficult.<ul>
<li>Automation tools can easily install, configure and start Vault, but unsealing it via Shamir's technique is heavily manual.</li>
</ul>
</li>
<li>To resolve these issues, Vault's Auto-Unseal mechanism can be utilised.</li>
</ul>
<h3 id="auto-unseal-overview">Auto-Unseal Overview<a class="headerlink" href="#auto-unseal-overview" title="Permanent link">&para;</a></h3>
<ul>
<li>This delegates the responsibility of securing the unseal key from users to a trusted device or service.</li>
<li>At startup, Vault will connect to the device or service implementing the seal, then request it decrypt the master key, such that Vault can read from storage.</li>
<li>Cloud-based key(s) provides master key information  Provided master key used to access encryption key and decrypt.</li>
<li>This provides pre-setup via the desired unseal method e.g.:</li>
<li>AWS KMS</li>
<li>Transit Secret Engine</li>
<li>Azure Key Vault</li>
<li>HSM</li>
<li>GCP Cloud KMS</li>
</ul>
<h2 id="507-auto-unseal-with-aws-kms">5.07 - Auto-Unseal with AWS KMS<a class="headerlink" href="#507-auto-unseal-with-aws-kms" title="Permanent link">&para;</a></h2>
<h3 id="setting-up-aws-auto-unseal-from-scratch">Setting up AWS Auto-Unseal From Scratch<a class="headerlink" href="#setting-up-aws-auto-unseal-from-scratch" title="Permanent link">&para;</a></h3>
<ul>
<li>As a prerequisite when implementing auto-unseal, you should have an understanding of the mechanism to be used.</li>
<li>From Services  Key Management Service (KMS)</li>
<li>Create a symmetric key</li>
<li>Leave all settings as default (unless otherwise)</li>
<li>Create an IAM user for authentication.</li>
<li>Provide sufficient permissions (Admin for demo purposes)</li>
<li>Note the access and secret keys associated with the IAM users.<ul>
<li>Typically, one would export them as environment variables for security purposes.</li>
</ul>
</li>
<li>Add the following to the Vault Server Config file:</li>
</ul>
<pre><code class="language-go">seal &quot;awskms&quot; {
 region = &quot;&lt;region code&gt;&quot;
 access_key = &quot;&lt;access key&gt;&quot; # typically included as env variable instead
 secret_key = &quot;&lt;secret key&gt;&quot; # typically included as env variable instead
 kms_key_id = &quot;&lt;kms key id&gt;&quot;
 endpoint = &quot;&lt;KMS API endpoint&gt;&quot; # optional - typically used for private connactions over vpc from an EC2 instance
}
</code></pre>
<ul>
<li>Starting the Vault using this config: <code>vault server -config &lt;config&gt;.hcl</code></li>
<li>Upon first starting, an error/warning will be provided saying that no keys were found. Vault must be initialized to provide the master key and key shares.</li>
<li><code>vault operator init</code></li>
<li>Provides the root token and recovery keys</li>
<li>This will automatically unseal the vault.</li>
<li>The keys generated are automatically stored into the kms - they can now be called automatically for future usage of Vault.</li>
</ul>
<h2 id="508-vault-plugin-mechanism">5.08 - Vault Plugin Mechanism<a class="headerlink" href="#508-vault-plugin-mechanism" title="Permanent link">&para;</a></h2>
<ul>
<li>Plugins are the building blocks of Vault. All auth and secret backends are considered plugins.</li>
<li>This allows Vault to extensible to suit user needs.</li>
<li>This doesn't just apply to pre-existing plugins, custom plugins can also be developed.</li>
<li>In general, to integrate a 3rd-party plugin, the following steps need to be done:</li>
<li>Create the plugin</li>
<li>Compile the plugin</li>
<li>Start Vault pointing towards where the plugin is stored.</li>
</ul>
<h3 id="in-practice_1">In Practice<a class="headerlink" href="#in-practice_1" title="Permanent link">&para;</a></h3>
<ul>
<li>Install any desired packages e.g. go, git, etc. (Use Apt, Yum, etc as appropriate)</li>
<li>Clone the code down for the plugin using GIT e.g. vault-guides/secrets/mock</li>
<li>Compile the plugin using go: <code>go build -o /path/to/output/dir</code></li>
<li>Start Vault, pointing to the plugin directory: <code>vault server -dev -dev-root-token-id=root -dev-plugin-dir=/path/to/dir</code></li>
<li>Test the plugin functionality:</li>
<li><code>export VAULT_ADDR="http://127.0.0.1:8200</code></li>
<li><code>vault login root</code></li>
<li><code>vault secrets enable my-mock-plugin</code></li>
<li><code>vault secrets list</code><ul>
<li>Verify the plugin is working and the secret path exists.</li>
</ul>
</li>
<li>Read and Write operations to the plugin path:<ul>
<li><code>vault write my-mock-plugin/test message="Hello World"</code></li>
<li><code>vault read my-mock-plugin/test</code></li>
</ul>
</li>
</ul>
<h3 id="production">Production<a class="headerlink" href="#production" title="Permanent link">&para;</a></h3>
<ul>
<li>In production, to use plugins, the following should be added to the config file: <code>plugin_directory = /path/to/directory"</code></li>
</ul>
<h2 id="509-audit-devices">5.09 - Audit Devices<a class="headerlink" href="#509-audit-devices" title="Permanent link">&para;</a></h2>
<ul>
<li>Components in Vault that log requests and responses to Vault.</li>
<li>As each operation is an API request/response - the audit log includes every authenticated interaction with Vault; including errors.</li>
<li>By default, auditing is not enabled. It must be enabled by a root user using <code>vault audit enable</code>.</li>
</ul>
<h3 id="audit-devices-example">Audit Devices Example<a class="headerlink" href="#audit-devices-example" title="Permanent link">&para;</a></h3>
<ul>
<li>To enable file audit: <code>vault audit enable file file_path=path/to/file.log</code></li>
<li>Audit mechanisms in place can be viewed by <code>vault audit list</code></li>
<li>Note: The audit log is by default in JSON format.</li>
<li>Details logged include:</li>
<li>Client token used</li>
<li>Accessor</li>
<li>User</li>
<li>Policies involved</li>
<li>Token type.</li>
<li>Note: Other options are available:</li>
<li>Syslog</li>
<li>Socket</li>
<li>Enabling in Linux:</li>
<li><code>vault audit enable -path="audit_path" file file_path=/var/log/vault-audit.log</code><ul>
<li>Audit log stored at /var/log</li>
<li>viewable via <code>cat &lt;audit log&gt; | jq</code></li>
</ul>
</li>
<li>Note: The client token value is hashed - this can be computed via the endpoint <code>/sys/audit-hash</code></li>
<li>Sample request:<ul>
<li>
<p><code>vault print token</code> - gets the original token in plaintext</p>
<p><code>go
curl --header "X-Vault-Token: &lt;vault-token&gt;" --request POST --data @audit.json http://127.0.0.1:8200/v1/sys/audit-hash/&lt;path&gt;</code></p>
</li>
</ul>
</li>
</ul>
<h3 id="important-pointers">Important Pointers<a class="headerlink" href="#important-pointers" title="Permanent link">&para;</a></h3>
<ul>
<li>If there are any audit devices enabled, Vault requires at least one to persist the logs before completing a request.</li>
<li>If only one device is enabled and is blocking; Vault will be unresponsive until the audit device can write.</li>
<li>If more than one audit device is enabled in addition to the blocking one, Vault will be unaffected.</li>
</ul>
<h2 id="511-vault-enterprise-overview">5.11 - Vault Enterprise Overview<a class="headerlink" href="#511-vault-enterprise-overview" title="Permanent link">&para;</a></h2>
<ul>
<li>Includes a number of features benefitting organizational workflows.</li>
<li>Features include:</li>
<li>Disaster Recovery</li>
<li>Namespaces</li>
<li>Monitoring</li>
<li>Multi-Factor Authentication</li>
<li>Auto-Unseal with HSM</li>
<li>Once Vault Enterprise is acquired - instructions are provided for installation.</li>
<li>In terms of appearance, there is little difference between Enterprise and Open-Source versions.</li>
</ul>
<h2 id="512-vault-namespaces">5.12 - Vault Namespaces<a class="headerlink" href="#512-vault-namespaces" title="Permanent link">&para;</a></h2>
<h3 id="background-context">Background Context<a class="headerlink" href="#background-context" title="Permanent link">&para;</a></h3>
<ul>
<li>In organizations, there are typically multiple teams wanting to use services such as Vault for their own particular purposes.</li>
<li>In the case of Vault, they would need to manage their own secrets, auth methods, etc.</li>
<li>To allow for this segregation and minimizing impacts teams may have on one another, Namespaces can be used.</li>
<li>Each Vault namespace can have its own:</li>
<li>Policies</li>
<li>Auth Methods</li>
<li>Secrets Engines</li>
<li>Tokens</li>
<li>Identity entities and groups.</li>
</ul>
<h3 id="namespaces-example">Namespaces Example<a class="headerlink" href="#namespaces-example" title="Permanent link">&para;</a></h3>
<ul>
<li>When logging into Vault, you can specify the namespace to log into if desired.</li>
<li>Namespaces are created under <code>Access</code> in the Vault GUI.</li>
</ul>
<h2 id="513-vault-replication">5.13 - Vault Replication<a class="headerlink" href="#513-vault-replication" title="Permanent link">&para;</a></h2>
<ul>
<li>Having a single Vault cluster can impose various challenges, such as:</li>
<li>High latency</li>
<li>Connection issues</li>
<li>Availability loss</li>
<li>It is therefore beneficial to have multiple clusters across different regions; allowing users in region 1 to manage their own secrets, etc. in their closer region.</li>
<li>Replication serves to resolve this. There are multiple types available.</li>
</ul>
<h3 id="performance-replication">Performance Replication<a class="headerlink" href="#performance-replication" title="Permanent link">&para;</a></h3>
<ul>
<li>Secondary regions keep track of their own tokens and leases, but share the same underlying configuration, policies, and supporting secrets (K/V values, encryption keys for transit, etc.) with the primary region.</li>
</ul>
<h3 id="disaster-recovery-replication">Disaster Recovery Replication<a class="headerlink" href="#disaster-recovery-replication" title="Permanent link">&para;</a></h3>
<ul>
<li>Allows for a full restoration of all types of data (including local and cluster data)</li>
<li>Service tokens and leases are valid across both clusters.</li>
<li>The secondary cluster does not handle any client requests, and can be promoted to the new primary in the event of disaster.</li>
</ul>
<h2 id="514-monitoring-telemetry-in-vault">5.14 - Monitoring Telemetry in Vault<a class="headerlink" href="#514-monitoring-telemetry-in-vault" title="Permanent link">&para;</a></h2>
<ul>
<li>Telemetry covers any data being output by a particular device.</li>
<li>Analysis of this can be useful for areas such as:</li>
<li>Performance</li>
<li>Troubleshooting</li>
<li>In Vault, there are two data sets to note:</li>
<li>Metrics - Output via Telegraf</li>
<li>Vault Audit Logs - Output via Fluentd</li>
<li>These metrics can be output to various tools such as Prometheus.</li>
</ul>
<h3 id="metrics-output">Metrics Output<a class="headerlink" href="#metrics-output" title="Permanent link">&para;</a></h3>
<ul>
<li>Further details for each metric are available in the documentation, however metrics covered include:</li>
<li>Policy-based</li>
<li>Token-based</li>
<li>Resource usage</li>
</ul>
<h3 id="configuration">Configuration<a class="headerlink" href="#configuration" title="Permanent link">&para;</a></h3>
<ul>
<li>In the Vault Server config, one can add a config block to the file to point to a particular location for the metrics to be exported to.</li>
</ul>
<pre><code class="language-go">telemetry {
  statsite_address = &quot;statsite.company.local:8125&quot;
}
</code></pre>
<ul>
<li>Metrics can also be fetched from the <code>/sys/metrics</code> endpoint</li>
<li>Sample curl requests are available in the documentation</li>
<li>The format of the metrics can be configured e.g. JSON, Prometheus</li>
<li>e.g. <code>curl --header "X-Vault-Token: &lt;token&gt;" 127.0.0.8200:/v1/sys/metrics</code></li>
<li>Additional documentation is available for configuring Vault with various monitoring integrations; including Splunk.</li>
</ul>
<h2 id="515-high-availability-setup-implementation-in-vault">5.15 - High-Availability Setup &amp; Implementation in Vault<a class="headerlink" href="#515-high-availability-setup-implementation-in-vault" title="Permanent link">&para;</a></h2>
<h3 id="overview-of-ha">Overview of HA<a class="headerlink" href="#overview-of-ha" title="Permanent link">&para;</a></h3>
<ul>
<li>In general, running a single instance of anything is risky. Vault is no exception.</li>
<li>Vault supports a multi-server mode for High-Availability. This further protects organisations against outages by running multiple servers.</li>
<li>
<p>The data will be replicated across each based on the "leader".</p>
</li>
<li>
<p><strong>Note:</strong> High-Availability IS STORAGE BACKEND DEPENDENT - Integrated Storage is also available to support this.</p>
</li>
<li>
<p>Out-of the box, Raft is available for use, an integrated storage backend.</p>
</li>
<li>To configure:</li>
</ul>
<pre><code class="language-go">storage &quot;raft&quot; {
  path = &quot;/path/to/raft/data&quot; # defines where the data will be stored
  node_id = &quot;raft_node_1&quot;
}
cluster_addr = &quot;http://127.0.0.1:8201&quot;
</code></pre>
<h3 id="high-availability-example">High Availability Example<a class="headerlink" href="#high-availability-example" title="Permanent link">&para;</a></h3>
<ul>
<li>Start three separate instances of Vault with the above config: <code>vault server -config=/path/to/config.hcl</code></li>
<li>List the raft peers: <code>vault operator raft list-peers</code></li>
<li>One will be noted as "leader" under state</li>
<li>Run a test command in the leader node to store data:
<code>vault kv put secret/dbcreds admin=password</code></li>
<li>On one of the follower nodes, test access to the secrets: <code>vault kv get secret/dbcreds</code></li>
<li>The secret data should be displayed.</li>
<li>In the event that the leader node goes down, the data will still be accessible AND a new leader node will be assigned.</li>
</ul>
<h3 id="implementing-vault-ha">Implementing Vault HA<a class="headerlink" href="#implementing-vault-ha" title="Permanent link">&para;</a></h3>
<ul>
<li>Raft Storage can be configured by adding the following to the config file:</li>
</ul>
<pre><code class="language-go">storage &quot;raft&quot; {
  path = &quot;/path/to/raft/data&quot; # defines where the data will be stored
  node_id = &quot;raft_node_1&quot;
}
cluster_addr = &quot;http://127.0.0.1:8201&quot;
</code></pre>
<ul>
<li>You are advised to set <code>disable_mlock</code> to true and disable memory swapping on the system.</li>
<li>Start the server with <code>vault server -config=/path/to/config</code></li>
<li>The vault will be shown to operational with Raft storage ready</li>
<li>In a separate terminal, initialise the Vault:</li>
<li><code>vault operator init -key-shares=&lt;value&gt; -key-threshold=&lt;value&gt; &gt; key.txt</code></li>
<li>Unseal: <code>vault operator unseal &lt;unseal key&gt;</code></li>
<li>Login: <code>vault login &lt;token&gt;</code></li>
<li>Check the Raft nodes: <code>vault operator raft list-peers</code></li>
<li>Repeat for each node/vault server as required up until initialisations:</li>
<li><code>export VAULT_ADDR='address'</code></li>
<li>Join the node to the server <code>vault operator raft join &lt;leader IP address&gt;</code></li>
<li>To verify, put a secret to a particular path e.g.:</li>
<li><code>vault secrets enable -path=secret kv</code></li>
<li><code>vault kv put secret/creds admin=password</code></li>
<li>On another node: <code>vault kv get secret/creds</code> - should return the secret.</li>
<li>
<p>Test the replication and leadership transfer by restarting the leader node and running <code>vault operator raft list-peers</code></p>
</li>
<li>
<p>To be highly available, one of the Vault server nodes grabs a lock within the data store.</p>
</li>
<li>The successful server node becomes the "active" node - all others become standby nodes.</li>
<li>At this point, if the standby nodes receive a request, they will either forward the request or redirect the client depending on the configuration.</li>
<li>Nodes can be stepped down from active duty by using the <code>vault operator step-down &lt;address&gt;</code> command.</li>
</ul>
<h2 id="516-raft-storage-snapshot-and-restore">5.16 - Raft Storage - Snapshot and Restore<a class="headerlink" href="#516-raft-storage-snapshot-and-restore" title="Permanent link">&para;</a></h2>
<p>Snapshot and restore operations can be carried out via raft for the following commands:</p>
<p><code>vault operator raft snapshot save &lt;file&gt;.snap</code></p>
<p><code>vault operator raft snapshot restore &lt;file&gt;.snap</code></p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../..", "features": [], "search": "../../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.92b07e13.min.js"></script>
      
    
  <script id="init-glightbox">const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(() => { lightbox.reload() });
</script></body>
</html>